<odoo>
    <record id="view_meter_reading_tree" model="ir.ui.view">
        <field name="name">meter.reading.tree</field>
        <field name="model">meter.reading</field>
        <field name="arch" type="xml">
            <tree>
                <field name="invoice_id"/>

                <field name="meter_name"/>
                <field name="customer_id"/>
                <field name="reading_date"/>
              
                <field name="bill_period"/>
                <field name="previous_reading"/>
                <field name="current_reading"/>
                <field name="consumption"/>
                <field name="total_amount"/>
                 <field name="payment_state" string="Payment" widget="badge" decoration-danger="payment_state == 'not_paid'" decoration-warning="payment_state in ('partial', 'in_payment')" decoration-success="payment_state in ('paid', 'reversed')" invisible="payment_state == 'invoicing_legacy' or state != 'posted'" />
                <field name="state" widget="badge" decoration-success="state == 'posted'" decoration-info="state == 'draft'" optional="show" on_change="1" />
            </tree>
        </field>
    </record>

    <record id="view_meter_reading_form" model="ir.ui.view">
        <field name="name">meter.reading.form</field>
        <field name="model">meter.reading</field>
        <field name="arch" type="xml">
            <form>
           
            <field name="invoice_id" invisible="1"/>
            <field name="state" invisible="1"/>
                <header>
                <field name="state" 
                           widget="statusbar"
                           statusbar_visible="draft,posted,cancel"
                           invisible="(consumption==0)"
                           />
        <button name="action_confirm"
                string="Confirm"
                type="object"
                class="btn-primary"
                invisible="state in ('posted','cancel')"/>
        <button name="action_cancel"
                string="Cancel"
                type="object"
                class="btn-danger"
                invisible="state == 'cancel'"/>
        <button name="action_reset_to_draft"
                string="Reset to Draft"
                type="object"
                class="btn-secondary"
                invisible="state == 'draft'"/>
                 <button name="action_view_invoice"
            string="View Invoice"
            type="object"
            class="btn-info"
            invisible="invoice_id == False"
           />
    </header>
                <sheet>
             
                    <group col="2">
                        <group>
                            <field name="meter_id" readonly="state in ('posted','cancel')"/>
                            <field name="customer_id" />
                            <field name="zone_name" />
                            <field name="reading_date" readonly="state in ('posted','cancel')"/>
                            <field name="bill_period" readonly="1"/>
                          
                        </group>
                        <group>
                            <field name="previous_reading" readonly="1"/>
                            <field name="current_reading" readonly="state in ('posted','cancel')"/>
                            
                            <field name="consumption" readonly="1"/>
                            <field name="billed" readonly="state in ('posted','cancel')"/>
                        </group>
                    </group>
                    
               <group string="Billing Summary" col="2" invisible="billed != True">
    <field name="amount" readonly="1"/>
    <field name="rate_used" readonly="1"/>
    <field name="discount_amount" readonly="1"/>
    <field name="fixed_charge" readonly="1"/>
    <field name="tax_amount" readonly="1"/>
    <field name="total_amount" readonly="1"/>
</group>
              
    
  

 </sheet>
 
  <!-- Add chatter here -->
        <div class="oe_chatter">
    <field name="message_follower_ids" widget="mail_followers" readonly="1"/>
    <field name="activity_ids" widget="mail_activity" readonly="1"/>
    <field name="message_ids" widget="mail_thread" readonly="1"/>
</div>
            </form>
        </field>
    </record>

    <record id="action_meter_reading" model="ir.actions.act_window">
        <field name="name">Meter Readings</field>
        <field name="res_model">meter.reading</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('is_reset_reading', '=', False)]</field>
   <field name="views" eval="[
        (ref('view_meter_reading_tree'), 'tree'),
        (ref('view_meter_reading_form'), 'form')
    ]"/>
    </record>

   
    <menuitem id="menu_meter_reading" name="Readings" parent="menu_meter_readings" action="action_meter_reading"/>
</odoo>